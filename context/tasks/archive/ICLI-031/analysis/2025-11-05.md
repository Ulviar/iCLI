# Analysis Log — ICLI-031 — 2025-11-05

- **Author:** Assistant
- **Lifecycle stage:** Analysis (resumed)
- **Context:** ICLI-042 delivered the configurable process fixture, so this entry captures the pooled-client scenarios
  we plan to cover before re-entering execution.

## Knowledge consulted
- [process-fixture-spec.md](../../roadmap/process-fixture-spec.md) — confirmed fixture capabilities (single, line,
  streaming modes; runtime/payload/failure controls) that unlock broader pooled tests.
- [context/tasks/archive/ICLI-042/README.md](../../tasks/archive/ICLI-042/README.md) — verified fixture module is
  complete and dependencies resolved.

## Planned integration scenarios
1. **Stateless pooled requests (line mode)** — deterministic runtimes for baseline reuse plus random runtimes to
   validate per-request deadlines, timeouts, listener callbacks, and worker retirement on hangs/failures.
2. **Concurrent workers** — pool sized >1 with simultaneous requests to prove FIFO acquisition, correct listener
   attribution, and absence of starvation across mixed fast/slow workloads.
3. **Conversation mode** — long-lived conversation coexisting with stateless requests; covers manual `reset`, `retire`,
   and state mutation via fixture `CONFIG` commands to ensure hooks restore worker state.
4. **Streaming workflows** — streamed responses (`smooth`, `burst`, `chunked`) piped through pooled
   conversations/listen-only helpers, including pause/resume and abrupt stop to verify diagnostics and recycling.
5. **Failure & diagnostics** — fixture exit codes, stderr noise, hanging child processes to assert
   `ServiceProcessingException`, timeout behaviour, and `destroyProcessTree` enforcement.
6. **Configuration overrides** — mid-session overrides (payload size, runtime bounds, streaming profile) and seeded
   randomness to ensure deterministic yet flexible coverage of pooled conversations and stateless processors.

## Readiness decision
- Ready to proceed back into execution: fixture dependency is resolved, scenarios enumerated, and no further blockers
  identified.

## Next steps
- Update backlog stage to reflect resumed work.
- Implement/extend integration tests per scenario list, referencing the process fixture behaviours.
